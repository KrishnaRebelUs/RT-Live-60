import{m as le,r as o,j as e,L as ae,v as oe}from"./index-d9b39f5e.js";import{u as ce,I as de,d as he}from"./Debounce-e5a44aba.js";import{P as xe}from"./PageContainer-fd42dc94.js";import{B as me,H as ue}from"./Breadcrumb-9f189444.js";import{s as T}from"./styled-e4592642.js";import{T as U,a as K,b as ge,c as pe,d as je}from"./TableRow-e58b57f4.js";import{C as d}from"./Checkbox-f24f3079.js";import{B as I,s as y,T as Y}from"./Box-1e7caa39.js";import{T as fe}from"./TableContainer-ce814af9.js";import{P as be,G as c}from"./List-dbd24109.js";import{S as Z}from"./Select-be6fca1e.js";import{M as S}from"./MenuItem-36939c25.js";import{B as ee}from"./Button-8a3881c4.js";import{I as te}from"./IconButton-3028779c.js";import{V as Se}from"./Visibility-c0612dd7.js";import{T as ye}from"./TablePagination-fcb1d356.js";import{T as Pe}from"./TextField-0fb86b85.js";import{F as R}from"./FormControl-91b0f058.js";import{I as O}from"./InputLabel-648a476c.js";import{L as m}from"./ListItemText-b67da7ec.js";import{I as Ce}from"./IconFileArrowRight-104f6a98.js";import"./createSvgIcon-3fcd50f6.js";import"./createReactComponent-feeb99fb.js";import"./IconLayoutDashboard-da03b59e.js";import"./dividerClasses-7b989fe2.js";import"./KeyboardArrowRight-42f90c73.js";import"./Toolbar-9ec034b0.js";const l=T(U)(({theme:i})=>({border:"1px solid #ddd",padding:"8px",color:"black"})),ve=T(d)(({theme:i})=>({color:"#ffff","&.Mui-checked":{color:"#ffff"}})),a=T(U)(({theme:i})=>({border:"1px solid #ddd",backgroundColor:"#285a9e",color:"white",fontWeight:"bold",padding:"8px"})),We=T(U)(({theme:i})=>({border:"1px solid #ddd",backgroundColor:"#285a9e",color:"white",fontWeight:"bold",padding:"8px",boxSizing:"border-box",overflow:"hidden"})),we=T(K)(({theme:i})=>({"&:nth-of-type(even)":{backgroundColor:"#f0f5ff"},"&:nth-of-type(odd)":{backgroundColor:"white"}})),N=["High","Medium","Low"],q=Array.from({length:10},(i,n)=>({serial:n+1,col1:`Business Unit ${String.fromCharCode(65+n)}`,col2:`Org ${String.fromCharCode(65+n)}`,col3:`Vendor ${String.fromCharCode(65+n)}`,col4:`2024-01-${String(n+1).padStart(2,"0")}`,col5:`2024-01-${String(n+5).padStart(2,"0")}`,col6:`$${5e3-n*100}`,col7:`$${4500-n*100}`,col8:`2024-01-${String(n+10).padStart(2,"0")}`,col9:`2024-01-${String(n+15).padStart(2,"0")}`,col10:`2024-01-${String(n+20).padStart(2,"0")}`,col11:N[n%3],col12:["Fetching POs","Pending","Fetching Vendor Invoices","QA Completed - To be Published","Completed","Audit In Progress By Experts","No Findings","Waiting for Invoicing Trigger","Invoice Creation In Progress","Waiting for Batch Payment Due","Payment Matching in Progress","Find Payment Matching","No Recoupment"][n%13],col13:N[n%3]})),Ae=le.memo(({searchValue:i})=>{const[n,u]=o.useState({page:0,rowsPerPage:15,rows:q}),[P,h]=o.useState([]),[x,p]=o.useState(q.reduce((t,r)=>(t[r.serial]="play",t),{})),C=(t,r)=>{u(g=>({...g,page:r}))},j=t=>{u(r=>({...r,rowsPerPage:parseInt(t.target.value,10),page:0}))},v=t=>{t.target.checked?h(n.rows.map(r=>r.serial)):h([])},W=t=>{h(r=>r.includes(t)?r.filter(g=>g!==t):[...r,t])},w=t=>{p(r=>({...r,[t]:r[t]==="play"?"pause":"play"}))},f=o.useMemo(()=>n.rows.filter(t=>Object.values(t).some(r=>String(r).toLowerCase().includes(i.toLowerCase()))),[n.rows,i]);return e.jsxs(I,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(fe,{component:be,sx:{maxWidth:"100%",overflowX:"auto"},children:e.jsxs(ge,{"aria-label":"simple table",children:[e.jsx(pe,{children:e.jsxs(K,{children:[e.jsx(We,{sx:{minWidth:40},children:e.jsx(ve,{onChange:v})}),e.jsx(a,{sx:{minWidth:150},children:"Business Unit"}),e.jsx(a,{sx:{minWidth:150},children:"Organization Name"}),e.jsx(a,{sx:{minWidth:150},children:"Vendor Central Name"}),e.jsx(a,{sx:{minWidth:120},children:"Audit Start Date"}),e.jsx(a,{sx:{minWidth:120},children:"Last Activity"}),e.jsx(a,{sx:{minWidth:120},children:"Need To Be Invoiced Amount"}),e.jsx(a,{sx:{minWidth:120},children:"Invoice Submitted ($)"}),e.jsx(a,{sx:{minWidth:120},children:"Invoice Creation Date"}),e.jsx(a,{sx:{minWidth:120},children:"Expected Payment Due Date"}),e.jsx(a,{sx:{minWidth:120},children:"Cron Trigger Date"}),e.jsx(a,{sx:{minWidth:120},children:"Job Priority"}),e.jsx(a,{sx:{minWidth:120},children:"Job Status"}),e.jsx(a,{sx:{minWidth:120},children:"Action"}),e.jsx(a,{sx:{minWidth:100},children:"History"})]})}),e.jsx(je,{children:f.slice(n.page*n.rowsPerPage,n.page*n.rowsPerPage+n.rowsPerPage).map(t=>e.jsxs(we,{children:[e.jsx(l,{sx:{minWidth:40},children:e.jsx(d,{checked:P.includes(t.serial),onChange:()=>W(t.serial)})}),e.jsx(l,{sx:{minWidth:150},children:t.col1}),e.jsx(l,{sx:{minWidth:150},children:t.col2}),e.jsx(l,{sx:{minWidth:150},children:t.col3}),e.jsx(l,{sx:{minWidth:120},children:t.col4}),e.jsx(l,{sx:{minWidth:120},children:t.col5}),e.jsx(l,{sx:{minWidth:120},children:t.col6}),e.jsx(l,{sx:{minWidth:120},children:t.col7}),e.jsx(l,{sx:{minWidth:120},children:t.col8}),e.jsx(l,{sx:{minWidth:120},children:t.col9}),e.jsx(l,{sx:{minWidth:120},children:t.col10}),e.jsx(l,{sx:{minWidth:120},children:e.jsx(Z,{value:t.col11,onChange:r=>console.log("Handle job priority change"),sx:{width:"100%"},children:N.map(r=>e.jsx(S,{value:r,children:r},r))})}),e.jsx(l,{sx:{minWidth:120},children:t.col12}),e.jsx(l,{sx:{minWidth:100},children:e.jsx(ee,{onClick:()=>w(t.serial),sx:{color:x[t.serial]==="play"?"green":"#F4C430",backgroundColor:x[t.serial]==="play"?"#e0f2f1":"#fffbf0","&:hover":{backgroundColor:x[t.serial]==="play"?"#b9fbc0":"#ffebd8"}},children:x[t.serial]==="play"?"Play":"Pause"})}),e.jsx(l,{sx:{minWidth:100},children:e.jsx(ae,{to:`/job/${t.serial}`,children:e.jsx(te,{children:e.jsx(Se,{})})})})]},t.serial))})]})}),e.jsx(I,{sx:{p:2,display:"flex",justifyContent:"flex-end",width:"100%"},children:e.jsx(ye,{rowsPerPageOptions:[15,30,50],component:"div",count:f.length,rowsPerPage:n.rowsPerPage,page:n.page,onPageChange:C,onRowsPerPageChange:j})})]})}),E=y(ee)(({theme:i})=>({backgroundColor:i.palette.primary.contrast,border:"1px solid",borderColor:i.palette.primary.contrast,color:i.palette.primary.contrastText,fontSize:"15px",padding:"8px 16px",fontWeight:"600",transition:"all ease 0.3s",margin:"0 8px",display:"flex",alignItems:"center","&:hover":{backgroundColor:i.palette.primary.main,color:i.palette.primary.contrastText,borderColor:i.palette.primary.main}}));y(I)(({theme:i})=>({display:"flex",alignItems:"center",marginRight:"8px"}));const J=y(Y)(({theme:i})=>({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"150px"})),Ie=y(Pe)(({theme:i})=>({width:"200px"})),M=y(Z)(({theme:i})=>({width:"180px"})),$=y(S)(({theme:i})=>({whiteSpace:"normal",wordWrap:"break-word"})),st=()=>{const[i,n]=o.useState(""),[u,P]=o.useState([]),[h,x]=o.useState([]),[p,C]=o.useState([]),[j,v]=o.useState([]),[W,w]=o.useState(!1),[f,t]=o.useState(!1),[r,g]=o.useState(!1),[z,F]=o.useState(!1),G=ce(i,500);oe();const se=s=>{const b=s.target.value||"";n(b)},k=(s,b,_)=>ie=>{const{value:A}=ie.target;if(Array.isArray(A))if(A.includes("selectAll")){const X=b.length===V.length?[]:b;s(X),_(X.length===b.length)}else s(A),_(A.length===b.length);else console.error("Expected an array, but got:",A)},Q=()=>{console.log("Search submitted with values:",{debouncedSearchValue:G,businessUnit:u,organization:h,jobStatus:p,jobPriority:j})},ne=()=>{n(""),P([]),x([]),C([]),v([]),w(!1),t(!1),g(!1),F(!1)},re=()=>{console.log("Export functionality triggered.")},V=["RT","SamhCard"],H=["Org1","Org2"],L=["Fetching POs","Pending","Fetching Vendor Invoices","QA Completed - To be Published","Completed","Audit In Progress By Experts","No Findings","Waiting for Invoicing Trigger","Invoice Creation In Progress","Waiting for Batch Payment Due","Payment Matching in Progress","Find Payment Matching","No Recoupment"],D=["High","Medium","Low"],B=s=>!Array.isArray(s)||s.length===0?"":s.length<=3?s.join(", "):`${s.slice(0,3).join(", ")}...`;return e.jsx(xe,{title:"Job Status",children:e.jsxs(c,{container:!0,spacing:5,children:[e.jsx(c,{item:!0,xs:12,children:e.jsx(me,{titles:["Missed Invoicing","Job Status"]})}),e.jsx(c,{item:!0,xs:12,children:e.jsx(ue,{title:"Job Status"})}),e.jsxs(c,{container:!0,item:!0,xs:12,spacing:2.5,alignItems:"center",children:[e.jsx(c,{item:!0,children:e.jsx(Y,{variant:"h3",children:"Job Status"})}),e.jsx(c,{item:!0,children:e.jsx(Ie,{placeholder:"Search...",size:"small",value:i,onChange:se,autoComplete:"off",InputProps:{endAdornment:e.jsx(de,{position:"end",children:e.jsx(te,{edge:"end",onClick:Q,children:e.jsx(he,{})})})}})}),e.jsx(c,{item:!0,children:e.jsxs(R,{size:"small",variant:"outlined",children:[e.jsx(O,{children:"Business Unit"}),e.jsxs(M,{multiple:!0,value:u,onChange:k(P,V,w),renderValue:s=>e.jsx(J,{children:B(s)}),MenuProps:{PaperProps:{sx:{maxHeight:300,width:250}}},children:[e.jsxs(S,{value:"selectAll",children:[e.jsx(d,{checked:W,onChange:()=>{P(W?[]:V),w(!W)}}),e.jsx(m,{primary:"Select All"})]}),V.map(s=>e.jsxs($,{value:s,children:[e.jsx(d,{checked:u.includes(s)}),e.jsx(m,{primary:s})]},s))]})]})}),e.jsx(c,{item:!0,children:e.jsxs(R,{size:"small",variant:"outlined",children:[e.jsx(O,{children:"Organization Name"}),e.jsxs(M,{multiple:!0,value:h,onChange:k(x,H,t),renderValue:s=>e.jsx(J,{children:B(s)}),MenuProps:{PaperProps:{sx:{maxHeight:300,width:250}}},children:[e.jsxs(S,{value:"selectAll",children:[e.jsx(d,{checked:f,onChange:()=>{x(f?[]:H),t(!f)}}),e.jsx(m,{primary:"Select All"})]}),H.map(s=>e.jsxs($,{value:s,children:[e.jsx(d,{checked:h.includes(s)}),e.jsx(m,{primary:s})]},s))]})]})}),e.jsx(c,{item:!0,children:e.jsxs(R,{size:"small",variant:"outlined",children:[e.jsx(O,{children:"Job Status"}),e.jsxs(M,{multiple:!0,value:p,onChange:k(C,L,g),renderValue:s=>e.jsx(J,{children:B(s)}),MenuProps:{PaperProps:{sx:{maxHeight:300,width:250}}},children:[e.jsxs(S,{value:"selectAll",children:[e.jsx(d,{checked:r,onChange:()=>{C(r?[]:L),g(!r)}}),e.jsx(m,{primary:"Select All"})]}),L.map(s=>e.jsxs($,{value:s,children:[e.jsx(d,{checked:p.includes(s)}),e.jsx(m,{primary:s})]},s))]})]})}),e.jsx(c,{item:!0,children:e.jsxs(R,{size:"small",variant:"outlined",children:[e.jsx(O,{children:"Job Priority"}),e.jsxs(M,{multiple:!0,value:j,onChange:k(v,D,F),renderValue:s=>e.jsx(J,{children:B(s)}),MenuProps:{PaperProps:{sx:{maxHeight:300,width:250}}},children:[e.jsxs(S,{value:"selectAll",children:[e.jsx(d,{checked:z,onChange:()=>{v(z?[]:D),F(!z)}}),e.jsx(m,{primary:"Select All"})]}),D.map(s=>e.jsxs($,{value:s,children:[e.jsx(d,{checked:j.includes(s)}),e.jsx(m,{primary:s})]},s))]})]})}),e.jsx(c,{item:!0,children:e.jsxs(I,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(E,{variant:"outlined",onClick:Q,children:"Search"}),e.jsx(E,{variant:"outlined",onClick:ne,children:"Reset"}),e.jsxs(E,{variant:"contained",onClick:re,children:["Export",e.jsx(I,{sx:{borderLeft:"1px solid",height:"20px",marginLeft:"8px",marginRight:"8px"}}),e.jsx(Ce,{})]})]})})]}),e.jsx(c,{item:!0,xs:12,children:e.jsx(Ae,{searchValue:G,businessUnit:u,organization:h,jobStatus:p,jobPriority:j})})]})})};export{st as default};
