import{j as n,r as c}from"./index-d9b39f5e.js";import{P as xr}from"./PageContainer-fd42dc94.js";import{B as Cr,H as Jr}from"./Breadcrumb-9f189444.js";import{_ as en}from"./react-apexcharts.min-d2d01635.js";import{a as Ce}from"./axios-dd1c8fc2.js";import{D as Ie}from"./DashboardCard-4e1c1671.js";import{c as Dr}from"./config-ed4f877b.js";import{s as Sn,B as we,T as g}from"./Box-1e7caa39.js";import{a as he,T as P,b as jr,c as Se,d as Oe}from"./TableRow-e58b57f4.js";import{u as ao,G as V}from"./List-dbd24109.js";import{S as J}from"./Stack-565e4b37.js";import{T as Fe}from"./Tooltip-2a388df0.js";import{c as kr}from"./createReactComponent-feeb99fb.js";import{T as Zt}from"./TextField-0fb86b85.js";import{D as qn,a as Qn,b as _n}from"./DialogTitle-7a67cf89.js";import{D as Zn}from"./DialogActions-e16c2ebe.js";import{B as Kt}from"./Button-8a3881c4.js";import{e as Kn}from"./eventEmitter-d2c8b369.js";import"./IconLayoutDashboard-da03b59e.js";import"./Card-4abafe44.js";import"./CardContent-16323af8.js";import"./styled-e4592642.js";import"./useThemeProps-91a04794.js";import"./Popper-1b83772d.js";import"./Select-be6fca1e.js";import"./FormControl-91b0f058.js";import"./InputLabel-648a476c.js";var Q=kr("exclamation-mark","IconExclamationMark",[["path",{d:"M12 19v.01",key:"svg-0"}],["path",{d:"M12 15v-10",key:"svg-1"}]]);const eo=()=>{const a=[{name:"2024",data:[55e3,165e3,12e4,57e3,125e3,195e3,245e3,4e4,95e3,145e3,0,26e4]},{name:"2023",data:[205e3,29e4,31e4,15e4,125e3,195e3,null,null,null,null,null,0]}],w={chart:{height:350,type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",colors:["#ee8129","#245aa0"]},title:{show:!1},grid:{yaxis:{lines:{show:!0,borderWidth:1}},xaxis:{lines:{show:!0,borderWidth:1}}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tickPlacement:"on",labels:{show:!0,rotate:-45,rotateAlways:!0,hideOverlappingLabels:!1,trim:!1,maxHeight:100,offsetY:5}},yaxis:{min:0,max:35e4,tickAmount:7,labels:{formatter:function(M){return(M/1e3).toFixed(0)+"k"}}},legend:{show:!1}};return n.jsx("div",{children:n.jsx("div",{id:"chart",style:{height:"300px",width:"400px",marginLeft:"-18px"},children:n.jsx(en,{options:w,series:a,type:"line",height:300,width:540})})})},to=()=>{const a={series:[{name:"2024",data:[79,32,42,21,42,34,50,18,38,38,1,52]},{name:"2023",data:[30,45,49,22,0,0,0,0,0,0,0,0]},{name:"2022",data:[79,32,42,21,0,0,0,0,0,0,0,0]}],chart:{type:"bar",stacked:!1,toolbar:{show:!1},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:20,offsetY:60}}}],plotOptions:{bar:{horizontal:!1,borderRadius:7,columnWidth:"80%",distributed:!1}},stroke:{show:!0,width:.1,colors:["transparent"]},dataLabels:{enabled:!1},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tickPlacement:"on"},yaxis:{min:0,max:100,tickAmount:10,labels:{formatter:function(w){return w.toFixed(0)}},title:{offsetX:0,offsetY:0,style:{fontSize:"12px",fontWeight:400,color:"#666"}}},grid:{yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},legend:{show:!1},fill:{opacity:1,colors:["#2edd95","#245aa0","#ee8129"]}};return n.jsx("div",{id:"chart",style:{height:"300px",width:"350px",marginLeft:"-18px"},children:n.jsx(en,{options:a,series:a.series,type:"bar",height:300,width:540})})},no=()=>{const[a,w]=c.useState([]),[M,x]=c.useState({}),[p,u]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const Y=sessionStorage.getItem("selectedVendorId"),W=sessionStorage.getItem("token");if(!Y||!W)throw new Error("Vendor ID or token is missing");const N=[2024,2023,2022],L=N.map(D=>Ce.get("http://35.153.186.247:8082/financialDashboard/getProvisionDeductionMonthly",{params:{vendorId:Y,year:D,invoiceType:"Provision Deduction"},headers:{Authorization:`Bearer ${W}`}})),H=await Promise.all(L),U=N.map((D,K)=>{const ee=H[K].data.data,X=Array(12).fill(0);return ee.forEach(G=>{G.month>=1&&G.month<=12&&(X[G.month-1]=Math.abs(G.val))}),{name:`${D}`,data:X}}),ae=U.flatMap(D=>D.data),Z=Math.max(...ae);w(U),x({chart:{type:"area",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:20,offsetY:60}}}],stroke:{show:!0,width:2,curve:"smooth"},dataLabels:{enabled:!1},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tickPlacement:"on"},yaxis:{min:0,max:Math.ceil(Z/1e5)*1e5,tickAmount:7,labels:{formatter:function(D){return D>=1e6?(D/1e6).toFixed(1)+"M":(D/1e3).toFixed(0)+"k"}},title:{offsetX:0,offsetY:0,style:{fontSize:"12px",fontWeight:400,color:"#666"}}},grid:{yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},legend:{show:!0,position:"bottom",offsetY:20,offsetX:-300,horizontalAlign:"center",markers:{width:10,height:10,radius:12},itemMargin:{horizontal:10,vertical:20}},fill:{opacity:.7},colors:["#FF5733","#33FF57","#3357FF"]})}catch(Y){console.error("Error fetching data:",Y)}finally{u(!1)}})()},[]),n.jsx("div",{id:"chart",style:{height:"350px",width:"350px",marginLeft:"-18px"},children:p?n.jsx("p",{children:"Loading..."}):n.jsx(en,{options:M,series:a,type:"area",height:350,width:540})})},$r=Sn(we)(({theme:a})=>({height:"600px",overflowY:"auto"})),xe=Sn(he)(({theme:a,index:w})=>({borderBottom:"1px solid #eee",backgroundColor:w%2===0?a.palette.secondary.contrastText:a.palette.primary.extraLight})),$=Sn(P)(({theme:a})=>({fontSize:"15px",fontWeight:"600"})),Pr=()=>{const a=ao(),w=Dr.UniUrl,[M,x]=c.useState({currentYear:"",year1:"",year2:""}),p=t=>`$${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,u=t=>isNaN(t)?"In progress":t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+"%",r=t=>typeof t=="string"?parseFloat(t.replace(/[^0-9.-]+/g,"")):t,[Y,W]=c.useState(null),[N,L]=c.useState(null),[H,U]=c.useState(null),[ae,Z]=c.useState(null),[D,K]=c.useState(null),[ee,X]=c.useState(null),[G,re]=c.useState("-"),[Je,De]=c.useState("-"),[je,ke]=c.useState("-"),[Rr,On]=c.useState(!0),[se,ro]=c.useState(null),[ie,so]=c.useState(null),[ce,io]=c.useState(null),[tn,co]=c.useState(null),[le,lo]=c.useState(null),[de,To]=c.useState(null),[Te,yo]=c.useState(null),[nn,po]=c.useState(null),[f,uo]=c.useState("In progress"),[b,go]=c.useState("In progress"),[v,wo]=c.useState("In progress"),[Fn,ho]=c.useState("In progress"),[on,fo]=c.useState("In progress"),[an,bo]=c.useState("In progress"),[rn,vo]=c.useState("In progress"),[xn,mo]=c.useState({JanToFeb:"In progress",TwentyTwo:"-",TwentyOne:"-"}),[S,Io]=c.useState({}),[O,So]=c.useState({}),[F,Oo]=c.useState({}),[sn,Fo]=c.useState("In progress"),[cn,xo]=c.useState("In progress"),[ln,Co]=c.useState("In progress"),[dn,Jo]=c.useState({}),[Tn,Do]=c.useState({}),[yn,jo]=c.useState({}),[pn,ko]=c.useState({}),[un,$o]=c.useState({}),[gn,Po]=c.useState({}),[wn,Ro]=c.useState({}),[hn,Ao]=c.useState({}),[fn,Mo]=c.useState({}),[$e,Yo]=c.useState({}),[Pe,Eo]=c.useState({}),[Re,zo]=c.useState({}),[Ae,Bo]=c.useState({}),[Me,Vo]=c.useState({}),[Ye,Wo]=c.useState({}),[Ee,Uo]=c.useState({}),[ze,No]=c.useState({}),[Be,Lo]=c.useState({}),[Ve,Go]=c.useState({}),[We,Ho]=c.useState({}),[Ue,Xo]=c.useState({}),[Ne,qo]=c.useState({}),[Le,Qo]=c.useState({}),[Ge,_o]=c.useState({}),[He,Zo]=c.useState({}),[Xe,Ko]=c.useState({}),[qe,ea]=c.useState({}),[Qe,ta]=c.useState({}),[_e,na]=c.useState({}),[Ze,oa]=c.useState({}),[Ke,aa]=c.useState({}),[et,ra]=c.useState({}),[tt,sa]=c.useState({}),[z,ia]=c.useState({}),[A,ca]=c.useState({}),[te,la]=c.useState({}),[nt,da]=c.useState({}),[ot,Ta]=c.useState({}),[at,ya]=c.useState({}),[rt,pa]=c.useState({}),[st,ua]=c.useState({}),[it,ga]=c.useState({}),[ct,wa]=c.useState({}),[lt,ha]=c.useState({}),[dt,fa]=c.useState({}),[Tt,ba]=c.useState({}),[yt,va]=c.useState({}),[pt,ma]=c.useState({}),[ut,Ia]=c.useState({}),[gt,Sa]=c.useState({}),[wt,Oa]=c.useState({}),[ht,Fa]=c.useState({}),[ft,xa]=c.useState({}),[bt,Ca]=c.useState({}),[vt,Ja]=c.useState({}),[mt,Da]=c.useState({}),[fe,ja]=c.useState({}),[It,ka]=c.useState({}),[St,$a]=c.useState({}),[Ot,Pa]=c.useState({}),[Ft,Ra]=c.useState({}),[xt,Aa]=c.useState({}),[Ct,Ma]=c.useState({}),[Jt,Ya]=c.useState({}),[Dt,Ea]=c.useState({}),[jt,za]=c.useState({}),[kt,Ba]=c.useState({}),[$t,Va]=c.useState({}),[Pt,Wa]=c.useState({}),[Rt,Ua]=c.useState({}),[At,Na]=c.useState({}),[bn,La]=c.useState({}),[Mt,Ga]=c.useState({}),[Yt,Ha]=c.useState({}),[Et,Xa]=c.useState({}),[zt,qa]=c.useState({JanToFeb:"In progress"}),[Bt,Qa]=c.useState({TwentyTwo:"In progress"}),[Vt,_a]=c.useState({TwentyOne:"In progress"}),[Wt,Za]=c.useState({}),[Ut,Ka]=c.useState({}),[Nt,er]=c.useState({}),[Cn,tr]=c.useState({}),[Jn,nr]=c.useState({}),[Dn,or]=c.useState({}),[Lt,ar]=c.useState({}),[Gt,rr]=c.useState({}),[Ht,sr]=c.useState({}),[jn,ir]=c.useState({}),[kn,cr]=c.useState({}),[$n,lr]=c.useState({}),[Pn,dr]=c.useState({}),[Rn,Tr]=c.useState({}),[An,yr]=c.useState({}),[Mn,pr]=c.useState({}),[Yn,ur]=c.useState({}),[En,gr]=c.useState({}),wr=async()=>{const t=sessionStorage.getItem("selectedVendorId"),y=sessionStorage.getItem("token");if(!t||!y){console.error("Missing vendorId or token");return}try{return(await Ce.get("http://35.153.186.247:8082/financialDashboard/getMonthYear",{params:{vendorId:t},headers:{Authorization:`Bearer ${y}`}})).data.data}catch(s){return console.error("API call error",s),null}};c.useEffect(()=>{(async()=>{const y=await wr();if(y&&y.month&&y.year){const s=y.month,i=r(f);if(!isNaN(i)&&s){const o=i/s*12;mo(T=>({...T,JanToFeb:p(o)}))}}})()},[f]),c.useEffect(()=>{ye(t=>{const y=[...t];return((i,o)=>{const T=y.find(e=>e.Settlement.value===i);T?(T.JanToFeb.value=o.JanToFeb,T.TwentyTwo.value=o.TwentyTwo,T.TwentyOne.value=o.TwentyOne):y.push({id:y.length+1,Settlement:{value:i},JanToFeb:{value:o.JanToFeb,color:a.palette.primary.main},TwentyTwo:{value:o.TwentyTwo,color:a.palette.primary.main},TwentyOne:{value:o.TwentyOne,color:a.palette.primary.main}})})("Payment Receipt Forecast",xn),y})},[xn]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getSubtypeData?vendorId=${T}&year=${s}&invoiceType=Operational Chargeback Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(C=>C.invoiceTypeDetailed==="OC - ASN accuracy"||C.invoiceTypeDetailed==="OC - ASN Accuracy"),h=d.data.find(C=>C.invoiceTypeDetailed==="OC - No carton/package content label"),j=d.data.find(C=>C.invoiceTypeDetailed==="OC - Overweight Carton"),R=d.data.find(C=>C.invoiceTypeDetailed==="OC - Prep - External bubble wrapping"),k=d.data.find(C=>C.invoiceTypeDetailed==="OC - PO on-time accuracy"),m=d.data.find(C=>C.invoiceTypeDetailed==="OC - Overage PO units"),E=d.data.find(C=>C.invoiceTypeDetailed==="OC - Prep - Internal bubble wrap"),B=d.data.find(C=>C.invoiceTypeDetailed==="OC - Prep - Bagging"),q=d.data.find(C=>C.invoiceTypeDetailed==="OC - Ship In Own Container"),ne=d.data.find(C=>C.invoiceTypeDetailed==="OC - Carton Content Accuracy"),oe=d.data.find(C=>C.invoiceTypeDetailed==="OC - Overweight Carton"),_=d.data.find(C=>C.invoiceTypeDetailed==="OC - Unconfirmed PO units");let pe=l?p(Math.abs(l.val)):"In progress",me=h?p(Math.abs(h.val)):"In progress",I=j?p(Math.abs(j.val)):"In progress",In=R?p(Math.abs(R.val)):"In progress";i==="currentYear"?(Fo({JanToFeb:pe}),Jo({JanToFeb:me}),ko({JanToFeb:I}),Ro({JanToFeb:In}),Yo({JanToFeb:k?p(Math.abs(k.val)):"In progress"}),Bo({JanToFeb:m?p(Math.abs(m.val)):"In progress"}),Uo({JanToFeb:E?p(Math.abs(E.val)):"In progress"}),Go({JanToFeb:B?p(Math.abs(B.val)):"In progress"}),qo({JanToFeb:q?p(Math.abs(q.val)):"In progress"}),Zo({JanToFeb:ne?p(Math.abs(ne.val)):"In progress"}),ta({JanToFeb:oe?p(Math.abs(oe.val)):"In progress"}),aa({JanToFeb:_?p(Math.abs(_.val)):"In progress"})):i==="year1"?(xo({TwentyTwo:pe}),Do({TwentyTwo:me}),$o({TwentyTwo:I}),Ao({TwentyTwo:In}),Eo({TwentyTwo:k?p(Math.abs(k.val)):"In progress"}),Vo({TwentyTwo:m?p(Math.abs(m.val)):"In progress"}),No({TwentyTwo:E?p(Math.abs(E.val)):"In progress"}),Ho({TwentyTwo:B?p(Math.abs(B.val)):"In progress"}),Qo({TwentyTwo:q?p(Math.abs(q.val)):"In progress"}),Ko({TwentyTwo:ne?p(Math.abs(ne.val)):"In progress"}),na({TwentyTwo:oe?p(Math.abs(oe.val)):"In progress"}),ra({TwentyTwo:_?p(Math.abs(_.val)):"In progress"})):i==="year2"&&(Co({TwentyOne:pe}),jo({TwentyOne:me}),Po({TwentyOne:I}),Mo({TwentyOne:In}),zo({TwentyOne:k?p(Math.abs(k.val)):"In progress"}),Wo({TwentyOne:m?p(Math.abs(m.val)):"In progress"}),Lo({TwentyOne:E?p(Math.abs(E.val)):"In progress"}),Xo({TwentyOne:B?p(Math.abs(B.val)):"In progress"}),_o({TwentyOne:q?p(Math.abs(q.val)):"In progress"}),ea({TwentyOne:ne?p(Math.abs(ne.val)):"In progress"}),oa({TwentyOne:oe?p(Math.abs(oe.val)):"In progress"}),sa({TwentyOne:_?p(Math.abs(_.val)):"In progress"}))}else console.error(`Failed to fetch OC data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch OC data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching OC data for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getSubtypeData?vendorId=${T}&year=${s}&invoiceType=coop Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(m=>m.invoiceTypeDetailed==="Accrual"),h=d.data.find(m=>m.invoiceTypeDetailed==="Straight Payment"),j=d.data.find(m=>m.invoiceTypeDetailed==="Disposed"),R=d.data.find(m=>m.invoiceTypeDetailed==="Volume Incentive"),k=d.data.find(m=>m.invoiceTypeDetailed==="Vendor Funded Sales Discount");i==="currentYear"?(da({JanToFeb:l?p(Math.abs(l.val)):"In progress"}),pa({JanToFeb:h?p(Math.abs(h.val)):"In progress"}),wa({JanToFeb:j?p(Math.abs(j.val)):"In progress"}),ba({JanToFeb:R?p(Math.abs(R.val)):"In progress"}),Ia({JanToFeb:k?p(Math.abs(k.val)):"In progress"})):i==="year1"?(Ta({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}),ua({TwentyTwo:h?p(Math.abs(h.val)):"In progress"}),ha({TwentyTwo:j?p(Math.abs(j.val)):"In progress"}),va({TwentyTwo:R?p(Math.abs(R.val)):"In progresss"}),Sa({TwentyTwo:k?p(Math.abs(k.val)):"In progress"})):i==="year2"&&(ya({TwentyOne:l?p(Math.abs(l.val)):"In progress"}),ga({TwentyOne:h?p(Math.abs(h.val)):"In progress"}),fa({TwentyOne:j?p(Math.abs(j.val)):"In progress"}),ma({TwentyOne:R?p(Math.abs(R.val)):"In progress"}),Oa({TwentyOne:k?p(Math.abs(k.val)):"In progress"}))}else console.error(`Failed to fetch CoOp data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch CoOp data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching OC data for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=CoOp deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="CoOp deduction");i==="currentYear"?ia({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?ca({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&la({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch CoOp data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch CoOp data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching OC data for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceTypeDetailed?vendorId=${T}&year=${s}&invoiceTypeDetailed=Net Shortages`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceTypeDetailed==="Net Shortages");i==="currentYear"?ka({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?$a({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&Pa({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Net Shortage data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Net Shortage data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Net Shortage for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceTypeDetailed?vendorId=${T}&year=${s}&invoiceTypeDetailed=Net Price Claim`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceTypeDetailed==="Net Price Claim");i==="currentYear"?Ra({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Aa({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&Ma({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Net Price Claim data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Net Price Claim data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Net Price Claim for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Returns Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Returns Deduction");i==="currentYear"?Ya({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Ea({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&za({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Returns Deduction data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Returns Deduction data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Returns Deduction for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Post Audit Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Post Audit Deduction");i==="currentYear"?Ja({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Da({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&ja({TwentyOne:returnDeduction?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Post Deduction data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Post Deduction data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Post Deduction for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Returns Handling Charges Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Returns Handling Charges Deduction");i==="currentYear"?Ua({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Na({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&La({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Returns Handling Charges Deduction data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Returns Handling Charges Deduction data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Returns Handling Charges Deduction for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceTypeDetailed?vendorId=${T}&year=${s}&invoiceTypeDetailed=Net Return Freight Charges`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceTypeDetailed==="Net Return Freight Charges");i==="currentYear"?Ba({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Va({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&Wa({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Net Return Freight Charges data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Net Return Freight Charges data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Net Return Freight Charges for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getTotalDeduction?vendorId=${T}&year=${s}`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data[s];i==="currentYear"?qa({JanToFeb:l?p(Math.abs(l)):"In progress"}):i==="year1"?Qa({TwentyTwo:l?p(Math.abs(l)):"In progress"}):i==="year2"&&_a({TwentyOne:l?p(Math.abs(l)):"In progress"})}else console.error(`Failed to fetch total deductions data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch total deductions data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching total deductions for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Operational Chargeback Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Operational Chargeback Deduction");i==="currentYear"?Io({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?So({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&Oo({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Operational Chargeback Deduction data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Operational Chargeback Deduction data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Operational Chargeback Deduction for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceTypeDetailed?vendorId=${T}&year=${s}&invoiceTypeDetailed=AMS`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceTypeDetailed==="AMS");i==="currentYear"?Za({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Ka({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&er({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch AMS data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch AMS data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching AMS for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Provision Reversal`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Provision Reversal");i==="currentYear"?tr({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?nr({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&or({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Provision Reversal data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Provision Reversal data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Provision Reversal for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Provision Deduction`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Provision Deduction");i==="currentYear"?ar({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?rr({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&sr({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Provision Deduction data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Provision Deductionl data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Provision Deduction for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=CoOp Refund`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="CoOp Refund");i==="currentYear"?ir({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?cr({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&lr({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch CoOp Refund data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch CoOp Refund data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching CoOp Refund for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Return Refund`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Return Refund");i==="currentYear"?pr({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?ur({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&gr({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch Return Refund data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Return Refund data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Return Refund for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=OC - SIOC Incentive`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="OC - SIOC Incentive");i==="currentYear"?dr({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Tr({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&yr({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch OC - SIOC Incentive data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch OC - SIOC Incentive data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching OC - SIOC Incentive for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=C2FO Credit Memo`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="C2FO Credit Memo");i==="currentYear"?Fa({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?xa({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&Ca({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch C2FO Credit Memo data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch C2FO Credit Memo data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching C2FO Credit Memo for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};x(d),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Quick Pay Discount`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Quick Pay Discount");i==="currentYear"?Ga({JanToFeb:l?p(Math.abs(l.val)):"In progress"}):i==="year1"?Ha({TwentyTwo:l?p(Math.abs(l.val)):"In progress"}):i==="year2"&&Xa({TwentyOne:l?p(Math.abs(l.val)):"In progress"})}else console.error(`Failed to fetch C2FO Credit Memo data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch C2FO Credit Memo data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching C2FO Credit Memo for year ${s}:`,e)}};t()},[]);const hr=(t,y)=>t&&y&&y!=="In progress"&&y!=="No data available"&&y!==0?(t/y*100).toFixed(2)+"%":"-";c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await Ce.get(`${w}/financialDashboard/getYear`,{params:{vendorId:i},headers:{Authorization:`Bearer ${s}`}});if(o.status===200){const T=o.data;if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString()};sessionStorage.setItem("fetchedYears",JSON.stringify(d)),e!==0&&e!==null&&(y(e,"currentYear"),y(e-1,"year1"),y(e-2,"year2"))}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await Ce.get(`${w}/financialDashboard/getPOdata`,{params:{vendorId:T,year:s},headers:{Authorization:`Bearer ${o}`}});if(e.status===200){const d=e.data;if(d.status==="SUCCESS"&&d.data.length>0){const l=d.data[0];if(l){const h=p(l.poPlaced),j=p(l.poAccepated);let R=hr(l.poAccepated,l.poPlaced);i==="currentYear"?(W(h),Z(j),re(R)):i==="year1"?(L(h),K(j),De(R)):i==="year2"&&(U(h),X(j),ke(R))}}else{console.error("No data found for POs or data.data is empty:",d);const l="No data available";i==="currentYear"?(W(l),Z(l),re("-")):i==="year1"?(L(l),K(l),De("-")):i==="year2"&&(U(l),X(l),ke("-"))}}else{console.error(`Failed to fetch PO data for year ${s}:`,e.status);const d="In progress";i==="currentYear"?(W(d),Z(d),re("-")):i==="year1"?(L(d),K(d),De("-")):i==="year2"&&(U(d),X(d),ke("-"))}}catch(e){console.error(`Error fetching PO data for year ${s}:`,e);const d="In progress";i==="currentYear"?(W(d),Z(d),re("-")):i==="year1"?(L(d),K(d),De("-")):i==="year2"&&(U(d),X(d),ke("-"))}};t()},[]),c.useEffect(()=>{const t=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getPOdata?vendorId=${T}&year=${s}`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data[0];i==="currentYear"?(W(l?p(l.poPlaced):"In progress"),Z(l?p(l.poAccepated):"In progress")):i==="year1"?(L(l?p(l.poPlaced):"In progress"),K(l?p(l.poAccepated):"In progress")):i==="year2"&&(U(l?p(l.poPlaced):"In progress"),X(l?p(l.poAccepated):"In progress"))}else console.error(`Failed to fetch PO data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch PO data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching PO data for year ${s}:`,e)}};(async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count;await t(e,"currentYear"),await t(e-1,"year1"),await t(e-2,"year2")}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}})()},[]),c.useEffect(()=>{Y!==null&&N!==null&&H!==null&&ae!==null&&D!==null&&ee!==null&&ye(t=>{const y=[...t],s=y.find(T=>T.Settlement.value==="PO's Placed");s&&(s.JanToFeb.value=Y,s.TwentyTwo.value=N,s.TwentyOne.value=H);const i=y.find(T=>T.Settlement.value==="PO's Accepted");i&&(i.JanToFeb.value=ae,i.TwentyTwo.value=D,i.TwentyOne.value=ee);const o=y.find(T=>T.Settlement.value==="PO Acceptance Rate");return o&&(o.JanToFeb.value=G,o.TwentyTwo.value=Je,o.TwentyOne.value=je),y})},[Y,N,H,ae,D,ee,G,Je,je]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString(),year3:(e-3).toString()};await y(e,"currentYear"),await y(e-1,"year1"),await y(e-2,"year2"),await y(e-3,"year3")}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}finally{On(!1)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Sales Invoice Payment`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Sales Invoice Payment");i==="currentYear"?ro(l?p(Math.abs(l.val)):"In progress"):i==="year1"?so(l?p(Math.abs(l.val)):"In progress"):i==="year2"?io(l?p(Math.abs(l.val)):"In progress"):i==="year3"&&co(l?p(Math.abs(l.val)):"In progress")}else console.error(`Failed to fetch Inventory Sales data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch Inventory Sales data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching Inventory Sales for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{},[se,ie,ce]),c.useEffect(()=>{se!==null&&ie!==null&&ce!==null&&ye(t=>{const y=[...t],s=y.find(i=>i.Settlement.value==="Payments Received - Inventory Sales");return s&&(s.JanToFeb.value=se,s.TwentyTwo.value=ie,s.TwentyOne.value=ce),y})},[se,ie,ce]),c.useEffect(()=>{const t=async()=>{const s=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");try{const o=await fetch(`${w}/financialDashboard/getYear?vendorId=${i}`,{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const T=await o.json();if(T.status==="SUCCESS"){const e=T.data.count,d={currentYear:e.toString(),year1:(e-1).toString(),year2:(e-2).toString(),year3:(e-3).toString()};await y(e,"currentYear"),await y(e-1,"year1"),await y(e-2,"year2"),await y(e-3,"year3")}else console.error("Failed to fetch years data:",T.errorMessage)}else console.error("Failed to fetch years data:",o.status)}catch(o){console.error("Error fetching years data:",o)}finally{On(!1)}},y=async(s,i)=>{const o=sessionStorage.getItem("token"),T=sessionStorage.getItem("selectedVendorId");try{const e=await fetch(`${w}/financialDashboard/getInvoiceType?vendorId=${T}&year=${s}&invoiceType=Dropship Sales Payment`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const d=await e.json();if(d.status==="SUCCESS"){const l=d.data.find(h=>h.invoiceType==="Dropship Sales Payment");i==="currentYear"?lo(l?p(Math.abs(l.val)):"In progress"):i==="year1"?To(l?p(Math.abs(l.val)):"In progress"):i==="year2"?yo(l?p(Math.abs(l.val)):"In progress"):i==="year3"&&po(l?p(Math.abs(l.val)):"In progress")}else console.error(`Failed to fetch DropShip Sales data for year ${s}:`,d.errorMessage)}else console.error(`Failed to fetch DropShip Sales data for year ${s}:`,e.status)}catch(e){console.error(`Error fetching DropShip Sales for year ${s}:`,e)}};t()},[]),c.useEffect(()=>{},[le,de,Te]),c.useEffect(()=>{le!==null&&de!==null&&Te!==null&&ye(t=>{const y=[...t],s=y.find(i=>i.Settlement.value==="Payments Received - Dropship Sales");return s&&(s.JanToFeb.value=le,s.TwentyTwo.value=de,s.TwentyOne.value=Te),y})},[le,de,Te]),c.useEffect(()=>{if(se!==null&&le!==null){const t=r(se)+r(le);uo(p(t))}if(ie!==null&&de!==null){const t=r(ie)+r(de);go(p(t))}if(ce!==null&&Te!==null){const t=r(ce)+r(Te);wo(p(t))}if(tn!==null&&nn!==null){const t=r(tn)+r(nn);ho(p(t))}},[se,le,ie,de,ce,Te,tn,nn]),c.useEffect(()=>{f!==null&&b!==null&&v!==null&&ye(t=>{const y=[...t],s=.5,i=.2,o=s*r(f),T=s*r(b),e=s*r(v),d=i*r(f),l=i*r(b),h=i*r(v),j=y.find(k=>k.Settlement.value==="Total Payments Received");j?(j.JanToFeb.value=f,j.TwentyTwo.value=b,j.TwentyOne.value=v):y.push({id:y.length+1,Settlement:{value:"Total Payments Received"},JanToFeb:{value:f,color:a.palette.primary.main},TwentyTwo:{value:b,color:a.palette.primary.main},TwentyOne:{value:v,color:a.palette.primary.main}});const R=(k,m,E=!1)=>{const B=y.find(q=>q.Settlement.value===k);B?(B.JanToFeb.value=E?m.JanToFeb:p(m.JanToFeb),B.TwentyTwo.value=E?m.TwentyTwo:p(m.TwentyTwo),B.TwentyOne.value=E?m.TwentyOne:p(m.TwentyOne)):y.push({id:y.length+1,Settlement:{value:k},JanToFeb:{value:E?m.JanToFeb:p(m.JanToFeb),color:a.palette.primary.main},TwentyTwo:{value:E?m.TwentyTwo:p(m.TwentyTwo),color:a.palette.primary.main},TwentyOne:{value:E?m.TwentyOne:p(m.TwentyOne),color:a.palette.primary.main}})};return R("Gross Profit",{JanToFeb:o,TwentyTwo:T,TwentyOne:e}),R("SG&A ($)",{JanToFeb:d,TwentyTwo:l,TwentyOne:h}),R("% +/- (Previous Year)",{JanToFeb:on||"In progress",TwentyTwo:an||"In progress",TwentyOne:rn||"No Data"},!0),y})},[f,b,v,on,an,rn]),c.useEffect(()=>{const t=(o,T)=>{if(o!=="In progress"&&T!=="In progress"){const e=r(o),d=r(T);if(d===0)return"N/A";const l=(e-d)/d*100;return u(l)}return"No Data"},y=t(f,b),s=t(b,v),i=t(v,Fn);fo(y),bo(s),vo(i)},[f,b,v,Fn]);const fr=[{id:1,Settlement:{value:"PO's Placed"},JanToFeb:{value:Y||"In progress",color:a.palette.primary.main},TwentyTwo:{value:N||"In progress",color:a.palette.primary.main},TwentyOne:{value:H||"In progress",color:a.palette.primary.main}},{id:2,Settlement:{value:"PO's Accepted"},JanToFeb:{value:ae||"In progress",color:a.palette.primary.main},TwentyTwo:{value:D||"In progress",color:a.palette.primary.main},TwentyOne:{value:ee||"In progress",color:a.palette.primary.main}},{id:3,Settlement:{value:"PO Acceptance Rate"},JanToFeb:{value:G!==null?G:"-",color:a.palette.success.extraDark},TwentyTwo:{value:Je!==null?Je:"-",color:a.palette.success.extraDark},TwentyOne:{value:je!==null?je:"-",color:a.palette.success.extraDark}},{id:4,Settlement:{value:"Payments Received - Inventory Sales"},JanToFeb:{value:se||"In progress",color:a.palette.primary.main},TwentyTwo:{value:ie||"In progress",color:a.palette.primary.main},TwentyOne:{value:ce||"In progress",color:a.palette.primary.main}},{id:5,Settlement:{value:"Payments Received - Dropship Sales"},JanToFeb:{value:le||"In progress",color:a.palette.primary.main},TwentyTwo:{value:de||"In progress",color:a.palette.primary.main},TwentyOne:{value:Te||"In progress",color:a.palette.primary.main}},{id:6,Settlement:{value:"Total Payments Received"},JanToFeb:{value:f||"In progress",color:a.palette.primary.main},TwentyTwo:{value:b||"In progress",color:a.palette.primary.main},TwentyOne:{value:v||"In progress",color:a.palette.primary.main}},{id:7,Settlement:{value:"% +/- (Previous Year)"},JanToFeb:{value:on||"In progress",color:a.palette.primary.main},TwentyTwo:{value:an||"In progress",color:a.palette.primary.main},TwentyOne:{value:rn||"No Data",color:a.palette.primary.main}},{id:10,Settlement:{value:"Gross Margin %"},JanToFeb:{value:"50",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px"},TwentyTwo:{value:"50",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px"},TwentyOne:{value:"50",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px"}},{id:12,Settlement:{value:"SG&A %",value2:"IconExclamation"},JanToFeb:{value:"20",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px"},TwentyTwo:{value:"20",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px"},TwentyOne:{value:"20",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px"}}],zn=[{id:2,Settlement:"AMS (Excl. Credit Card)",JanToFeb:{value:Wt.JanToFeb?Wt.JanToFeb:"In progress",color:a.palette.primary.main,value2:Wt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(Wt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:Ut.TwentyTwo?Ut.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Ut.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(Ut.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Nt.TwentyOne?Nt.TwentyOne:"In progress",color:a.palette.primary.main,value2:Nt.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Nt.TwentyOne)/r(v)*100):"%"}},{id:3,Settlement:"AMS (Credit Card Spend)",JanToFeb:{value:"50",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px",value2:""},TwentyTwo:{value:"50",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px",value2:""},TwentyOne:{value:"50",color:a.palette.primary.main,backgroundColor:"#e4e4e4",borderRadius:"20px",textAlign:"left",width:"120px",padding:"5px 7px",value2:"0.00%"}},{id:4,Settlement:"C2FO Credit Memo",JanToFeb:{value:ht.JanToFeb?ht.JanToFeb:"In progress",color:a.palette.primary.main,value2:ht.JanToFeb!=="In progress"&&f!=="In progress"?u(r(ht.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:ft.TwentyTwo?ft.TwentyTwo:"In progress",color:a.palette.primary.main,value2:ft.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(ft.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:bt.TwentyOne?bt.TwentyOne:"In progress",color:a.palette.primary.main,value2:bt.TwentyOne!=="In progress"&&v!=="In progress"?u(r(bt.TwentyOne)/r(v)*100):"%"}},{id:5,Settlement:"CoOp",JanToFeb:{value:z.JanToFeb?z.JanToFeb:"In progress",color:a.palette.primary.main,value2:z.JanToFeb!=="In progress"&&f!=="In progress"?u(r(z.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:A.TwentyTwo?A.TwentyTwo:"In progress",color:a.palette.primary.main,value2:A.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(A.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:te.TwentyOne?te.TwentyOne:"In progress",color:a.palette.primary.main,value2:te.TwentyOne!=="In progress"&&v!=="In progress"?u(r(te.TwentyOne)/r(v)*100):"%"}},{id:6,Settlement:"Accural",JanToFeb:{value:nt.JanToFeb?nt.JanToFeb:"In progress",color:a.palette.primary.main,value2:nt.JanToFeb!=="In progress"&&z.JanToFeb!=="In progress"?u(r(nt.JanToFeb)/r(z.JanToFeb)*100):"%"},TwentyTwo:{value:ot.TwentyTwo?ot.TwentyTwo:"In progress",color:a.palette.primary.main,value2:ot.TwentyTwo!=="In progress"&&A.TwentyTwo!=="In progress"?u(r(ot.TwentyTwo)/r(A.TwentyTwo)*100):"%"},TwentyOne:{value:at.TwentyOne?at.TwentyOne:"In progress",color:a.palette.primary.main,value2:at.TwentyOne!=="In progress"&&A.TwentyOne!=="In progress"?u(r(at.TwentyOne)/r(te.TwentyOne)*100):"%"}},{id:18,Settlement:"Straight Payment",JanToFeb:{value:rt.JanToFeb?rt.JanToFeb:"In progress",color:a.palette.primary.main,value2:rt.JanToFeb!=="In progress"&&z.JanToFeb!=="In progress"?u(r(rt.JanToFeb)/r(z.JanToFeb)*100):"%"},TwentyTwo:{value:st.TwentyTwo?st.TwentyTwo:"In progress",color:a.palette.primary.main,value2:st.TwentyTwo!=="In progress"&&A.TwentyTwo!=="In progress"?u(r(st.TwentyTwo)/r(A.TwentyTwo)*100):"%"},TwentyOne:{value:it.TwentyOne?it.TwentyOne:"In progress",color:a.palette.primary.main,value2:it.TwentyOne!=="In progress"&&A.TwentyOne!=="In progress"?u(r(it.TwentyOne)/r(te.TwentyOne)*100):"%"}},{id:19,Settlement:"Volume Incentive",JanToFeb:{value:Tt.JanToFeb?Tt.JanToFeb:"In progress",color:a.palette.primary.main,value2:Tt.JanToFeb!=="In progress"&&z.JanToFeb!=="In progress"?u(r(Tt.JanToFeb)/r(z.JanToFeb)*100):"%"},TwentyTwo:{value:yt.TwentyTwo?yt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:yt.TwentyTwo!=="In progress"&&A.TwentyTwo!=="In progress"?u(r(yt.TwentyTwo)/r(A.TwentyTwo)*100):"%"},TwentyOne:{value:pt.TwentyOne?pt.TwentyOne:"In progresss",color:a.palette.primary.main,value2:pt.TwentyOne!=="In progress"&&A.TwentyOne!=="In progress"?u(r(pt.TwentyOne)/r(te.TwentyOne)*100):"%"}},{id:20,Settlement:"Disposed",JanToFeb:{value:ct.JanToFeb?ct.JanToFeb:"In progresss",color:a.palette.primary.main,value2:ct.JanToFeb!=="In progress"&&z.JanToFeb!=="In progress"?u(r(ct.JanToFeb)/r(z.JanToFeb)*100):"%"},TwentyTwo:{value:lt.TwentyTwo?lt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:lt.TwentyTwo!=="In progress"&&A.TwentyTwo!=="In progress"?u(r(lt.TwentyTwo)/r(A.TwentyTwo)*100):"%"},TwentyOne:{value:dt.TwentyOne?dt.TwentyOne:"In progress",color:a.palette.primary.main,value2:dt.TwentyOne!=="In progress"&&A.TwentyOne!=="In progress"?u(r(dt.TwentyOne)/r(te.TwentyOne)*100):"%"}},{id:21,Settlement:"Vendor Funded Sales Discount",JanToFeb:{value:ut.JanToFeb?ut.JanToFeb:"In progress",color:a.palette.primary.main,value2:ut.JanToFeb!=="In progress"&&z.JanToFeb!=="In progress"?u(r(ut.JanToFeb)/r(z.JanToFeb)*100):"%"},TwentyTwo:{value:gt.TwentyTwo?gt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:gt.TwentyTwo!=="In progress"&&A.TwentyTwo!=="In progress"?u(r(gt.TwentyTwo)/r(A.TwentyTwo)*100):"%"},TwentyOne:{value:wt.TwentyOne?wt.TwentyOne:"In progress",color:a.palette.primary.main,value2:wt.TwentyOne!=="In progress"&&A.TwentyOne!=="In progress"?u(r(wt.TwentyOne)/r(te.TwentyOne)*100):"%"}},{id:7,Settlement:"Operational Chargeback Total",JanToFeb:{value:S.JanToFeb?S.JanToFeb:"In progress",color:a.palette.primary.main,value2:S.JanToFeb!=="In progress"&&f!=="In progress"?u(r(S.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:O.TwentyTwo?O.TwentyTwo:"In progress",color:a.palette.primary.main,value2:O.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(O.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:F.TwentyOne?F.TwentyOne:"In progress",color:a.palette.primary.main,value2:F.TwentyOne!=="In progress"&&v!=="In progress"?u(r(F.TwentyOne)/r(v)*100):"%"}},{id:8,Settlement:"OC - ASN accuracy",JanToFeb:{value:sn.JanToFeb,color:a.palette.primary.main,value2:sn.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(sn.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:cn.TwentyTwo,color:a.palette.primary.main,value2:cn.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(cn.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:ln.TwentyOne,color:a.palette.primary.main,value2:ln.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(ln.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:9,Settlement:"OC - No carton/package content label",JanToFeb:{value:dn.JanToFeb,color:a.palette.primary.main,value2:dn.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(dn.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:Tn.TwentyTwo,color:a.palette.primary.main,value2:Tn.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(Tn.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:yn.TwentyOne,color:a.palette.primary.main,value2:yn.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(yn.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:31,Settlement:"OC - Overage PO units",JanToFeb:{value:Ae.JanToFeb?Ae.JanToFeb:"In progress",color:a.palette.primary.main,value2:Ae.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(Ae.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:Me.TwentyTwo?Me.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Me.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(Me.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:Ye.TwentyOne?Ye.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ye.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(Ye.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:22,Settlement:"OC - Overweight Carton",JanToFeb:{value:pn.JanToFeb,color:a.palette.primary.main,value2:pn.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(pn.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:un.TwentyTwo,color:a.palette.primary.main,value2:un.TwentyTwo!=="In progress"&&O.TwentyOne!=="In progress"?u(r(un.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:gn.TwentyOne,color:a.palette.primary.main,value2:gn.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(gn.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:23,Settlement:"OC - PO on-time accuracy",JanToFeb:{value:$e.JanToFeb?$e.JanToFeb:"In progress",color:a.palette.primary.main,value2:$e.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r($e.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:Pe.TwentyTwo?Pe.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Pe.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(Pe.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:Re.TwentyOne?Re.TwentyOne:"In progress",color:a.palette.primary.main,value2:Re.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(Re.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:24,Settlement:"OC - Prep - External bubble wrapping",JanToFeb:{value:wn.JanToFeb||"In progress",color:a.palette.primary.main,value2:wn.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(wn.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:hn.TwentyTwo||"In progress",color:a.palette.primary.main,value2:hn.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(hn.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:fn.TwentyOne||"In progress",color:a.palette.primary.main,value2:fn.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(fn.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:25,Settlement:"OC - Ship In Own Container",JanToFeb:{value:Ne.JanToFeb?Ne.JanToFeb:"In progress",color:a.palette.primary.main,value2:Ne.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(Ne.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:Le.TwentyTwo?Le.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Le.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(Le.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:Ge.TwentyOne?Ge.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ge.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(Ge.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:26,Settlement:"OC - Carton Content Accuracy",JanToFeb:{value:He.JanToFeb?He.JanToFeb:"In progress",color:a.palette.primary.main,value2:He.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(He.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:Xe.TwentyTwo?Xe.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Xe.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(Xe.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:qe.TwentyOne?qe.TwentyOne:"In progress",color:a.palette.primary.main,value2:qe.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(qe.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:27,Settlement:"OC - Overweight Carton",JanToFeb:{value:Qe.JanToFeb?Qe.JanToFeb:"In progress",color:a.palette.primary.main,value2:Qe.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(Qe.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:_e.TwentyTwo?_e.TwentyTwo:"In progress",color:a.palette.primary.main,value2:_e.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(_e.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:Ze.TwentyOne?Ze.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ze.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(Ze.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:28,Settlement:"OC - Prep - Internal bubble wrap",JanToFeb:{value:Ee.JanToFeb?Ee.JanToFeb:"In progress",color:a.palette.primary.main,value2:Ee.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(Ee.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:ze.TwentyTwo?ze.TwentyTwo:"In progress",color:a.palette.primary.main,value2:ze.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(ze.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:Be.TwentyOne?Be.TwentyOne:"In progress",color:a.palette.primary.main,value2:Be.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(Be.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:29,Settlement:"OC - Prep - Bagging",JanToFeb:{value:Ve.JanToFeb?Ve.JanToFeb:"In progress",color:a.palette.primary.main,value2:Ve.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(Ve.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:We.TwentyTwo?We.TwentyTwo:"In progress",color:a.palette.primary.main,value2:We.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(We.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:Ue.TwentyOne?Ue.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ue.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(Ue.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:30,Settlement:"OC - Unconfirmed PO units",JanToFeb:{value:Ke.JanToFeb?Ke.JanToFeb:"In progress",color:a.palette.primary.main,value2:Ke.JanToFeb!=="In progress"&&S.JanToFeb!=="In progress"?u(r(Ke.JanToFeb)/r(S.JanToFeb)*100):"%"},TwentyTwo:{value:et.TwentyTwo?et.TwentyTwo:"In progress",color:a.palette.primary.main,value2:et.TwentyTwo!=="In progress"&&O.TwentyTwo!=="In progress"?u(r(et.TwentyTwo)/r(O.TwentyTwo)*100):"%"},TwentyOne:{value:tt.TwentyOne?tt.TwentyOne:"In progress",color:a.palette.primary.main,value2:tt.TwentyOne!=="In progress"&&F.TwentyOne!=="In progress"?u(r(tt.TwentyOne)/r(F.TwentyOne)*100):"%"}},{id:10,Settlement:"Net Post Audit Deduction",JanToFeb:{value:vt.JanToFeb?vt.JanToFeb:"In progress",color:a.palette.primary.main,value2:vt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(vt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:mt.TwentyTwo?mt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:mt.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(mt.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:fe.TwentyOne?fe.TwentyOne:"In progress",color:a.palette.primary.main,value2:fe.TwentyOne!=="In progress"&&v!=="In progress"?u(r(fe.TwentyOne)/r(v)*100):"%"}},{id:11,Settlement:"Net Price Claim",JanToFeb:{value:Ft.JanToFeb?Ft.JanToFeb:"In progress",color:a.palette.primary.main,value2:Ft.JanToFeb!=="In progress"&&f!=="In progress"?u(r(Ft.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:xt.TwentyTwo?xt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:xt.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(xt.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Ct.TwentyOne?Ct.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ct.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Ct.TwentyOne)/r(v)*100):"%"}},{id:12,Settlement:"Net Shortage",JanToFeb:{value:It.JanToFeb?It.JanToFeb:"In progress",color:a.palette.primary.main,value2:It.JanToFeb!=="In progress"&&f!=="In progress"?u(r(It.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:St.TwentyTwo?St.TwentyTwo:"In progress",color:a.palette.primary.main,value2:St.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(St.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Ot.TwentyOne?Ot.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ot.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Ot.TwentyOne)/r(v)*100):"%"}},{id:13,Settlement:"Return Deduction",JanToFeb:{value:Jt.JanToFeb?Jt.JanToFeb:"In progress",color:a.palette.primary.main,value2:Jt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(Jt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:Dt.TwentyTwo?Dt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Dt.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(Dt.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:jt.TwentyOne?jt.TwentyOne:"In progress",color:a.palette.primary.main,value2:jt.TwentyOne!=="In progress"&&v!=="In progress"?u(r(jt.TwentyOne)/r(v)*100):"%"}},{id:14,Settlement:"Net Return Freight Charges",JanToFeb:{value:kt.JanToFeb?kt.JanToFeb:"In progress",color:a.palette.primary.main,value2:kt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(kt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:$t.TwentyTwo?$t.TwentyTwo:"In progress",color:a.palette.primary.main,value2:$t.TwentyTwo!=="In progress"&&b!=="In progress"?u(r($t.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Pt.TwentyOne?Pt.TwentyOne:"In progress",color:a.palette.primary.main,value2:Pt.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Pt.TwentyOne)/r(v)*100):"%"}},{id:15,Settlement:"Net Return Handling Charges",JanToFeb:{value:Rt.JanToFeb?Rt.JanToFeb:"In progress",color:a.palette.primary.main,value2:Rt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(Rt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:At.TwentyTwo?At.TwentyTwo:"In progress",color:a.palette.primary.main,value2:At.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(At.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:bn.TwentyOne?fe.TwentyOne:"In progress",color:a.palette.primary.main,value2:bn.TwentyOne!=="In progress"&&v!=="In progress"?u(r(bn.TwentyOne)/r(v)*100):"%"}},{id:16,Settlement:"Quick Pay Discount",JanToFeb:{value:Mt.JanToFeb?Mt.JanToFeb:"In progress",color:a.palette.primary.main,value2:Mt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(Mt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:Yt.TwentyTwo?Yt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Yt.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(Yt.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Et.TwentyOne?Et.TwentyOne:"In progress",color:a.palette.primary.main,value2:Et.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Et.TwentyOne)/r(v)*100):"%"}},{id:17,Settlement:"Total Deductions",JanToFeb:{value:zt.JanToFeb?zt.JanToFeb:"In progress",color:a.palette.primary.main,value2:zt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(zt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:Bt.TwentyTwo?Bt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Bt.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(Bt.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Vt.TwentyOne?Vt.TwentyOne:"In progress",color:a.palette.primary.main,value2:Vt.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Vt.TwentyOne)/r(v)*100):"%"}}],Bn=[{id:1,Settlement:"Provision Deduction",JanToFeb:{value:Lt.JanToFeb?Lt.JanToFeb:"In progress",color:a.palette.primary.main,value2:Lt.JanToFeb!=="In progress"&&f!=="In progress"?u(r(Lt.JanToFeb)/r(f)*100):"%"},TwentyTwo:{value:Gt.TwentyTwo?Gt.TwentyTwo:"In progress",color:a.palette.primary.main,value2:Gt.TwentyTwo!=="In progress"&&b!=="In progress"?u(r(Gt.TwentyTwo)/r(b)*100):"%"},TwentyOne:{value:Ht.TwentyOne?Ht.TwentyOne:"In progress",color:a.palette.primary.main,value2:Ht.TwentyOne!=="In progress"&&v!=="In progress"?u(r(Ht.TwentyOne)/r(v)*100):"%"}}],br=[{id:1,Settlement:{value:"EBITDA%",color:a.palette.primary.main,value2:"IconExclamation"},JanToFeb:{value:"9.48%",color:a.palette.primary.main},TwentyTwo:{value:"8.82%",color:a.palette.primary.main},TwentyOne:{value:"11.48%",color:a.palette.primary.main}},{id:2,Settlement:{value:"EBITDA",color:a.palette.primary.main},JanToFeb:{value:"$133,127.58",color:a.palette.primary.main},TwentyTwo:{value:"$388,136.59",color:a.palette.primary.main},TwentyOne:{value:"$263,465.44",color:a.palette.primary.main}},{id:3,Settlement:{value:"% +/- Against Previous Year",color:a.palette.primary.main},JanToFeb:{value:"-65.70%",color:a.palette.error.main},TwentyTwo:{value:"47.32%",color:a.palette.success.extraDark},TwentyOne:{value:"-61.06%",color:a.palette.error.main}}],be=[{id:1,Settlement:"OC - SIOC Incentive",JanToFeb:{value:Pn.JanToFeb?Pn.JanToFeb:"In progress",color:a.palette.primary.main},TwentyTwo:{value:Rn.TwentyTwo?Rn.TwentyTwo:"In progress",color:a.palette.primary.main},TwentyOne:{value:An.TwentyOne?An.TwentyOne:"In progress",color:a.palette.primary.main}},{id:2,Settlement:"CoOp Refund",JanToFeb:{value:jn.JanToFeb?jn.JanToFeb:"In progress",color:a.palette.primary.main},TwentyTwo:{value:kn.TwentyTwo?kn.TwentyTwo:"In progress",color:a.palette.primary.main},TwentyOne:{value:$n.TwentyOne?$n.TwentyOne:"In progress",color:a.palette.primary.main}},{id:5,Settlement:"Return Refund",JanToFeb:{value:Mn.JanToFeb?Mn.JanToFeb:"In progress",color:a.palette.primary.main},TwentyTwo:{value:Yn.TwentyTwo?Yn.TwentyTwo:"In progress",color:a.palette.primary.main},TwentyOne:{value:En.TwentyOne?En.TwentyOne:"In progress",color:a.palette.primary.main}},{id:6,Settlement:"Provision Reversal",JanToFeb:{value:Cn.JanToFeb?Cn.JanToFeb:"In progress",color:a.palette.primary.main},TwentyTwo:{value:Jn.TwentyTwo?Jn.TwentyTwo:"In progress",color:a.palette.primary.main},TwentyOne:{value:Dn.TwentyOne?Dn.TwentyOne:"In progress",color:a.palette.primary.main}}],ue="20",ge="50",[Vn,vn]=c.useState(!1),[Xt,qt]=c.useState(ue),[Wn,mn]=c.useState(!1),[Qt,_t]=c.useState(ge),[ve,ye]=c.useState(fr),[Un,vr]=c.useState(br),[Ar,mr]=c.useState(0);c.useEffect(()=>{(async()=>{const y=sessionStorage.getItem("token"),s=sessionStorage.getItem("selectedVendorId");try{const i=await fetch(`http://16.170.22.123:8082/financialDashboard/getYear?vendorId=${s}`,{headers:{Authorization:`Bearer ${y}`}});if(i.ok){const o=await i.json();o.status==="SUCCESS"?x({currentYear:`${o.data.count}`,year1:`${o.data.count-1}`,year2:`${o.data.count-2}`}):console.error("Failed to fetch years data:",o.errorMessage)}else console.error("Failed to fetch years data:",i.status)}catch(i){console.error("Error fetching years data:",i)}})()},[]);const Ir=t=>{t===ue&&(qt(t),vn(!0))},Nn=t=>{qt(t.target.value)},Sr=()=>{vn(!1);const t=ve.map(y=>{if(y.Settlement.value==="SG&A ($)"){const s=ve.find(o=>o.Settlement.value==="Total Payments Received").JanToFeb.value,i=parseFloat(Xt)/100*parseFloat(s.replace(/[^0-9.-]+/g,""));return console.log("Updated SG&A value:",i),{...y,JanToFeb:{...y.JanToFeb,value:`$${i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}}}return y});ye(t),console.log("Updated Comparison Table:",t),Xn(t)},Ln=()=>{qt(ue),vn(!1)},Or=t=>{t===ge&&(_t(t),mn(!0))},Gn=t=>{_t(t.target.value)},Fr=()=>{mn(!1);const t=ve.map(y=>{if(y.Settlement.value==="Gross Profit"){const s=ve.find(o=>o.Settlement.value==="Total Payments Received").JanToFeb.value,i=parseFloat(Qt)/100*parseFloat(s.replace(/[^0-9.-]+/g,""));return{...y,JanToFeb:{...y.JanToFeb,value:`$${i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}}}return y});ye(t),Xn(t)},Hn=()=>{_t(ge),mn(!1)};c.useEffect(()=>()=>{qt(ue),_t(ge)},[ue,ge]);const Xn=t=>{const y=t.find(I=>I.Settlement.value==="Gross Profit"),s=t.find(I=>I.Settlement.value==="SG&A ($)"),i=zn.find(I=>I.Settlement==="Total Deductions")||{JanToFeb:{value:"0"}},o=t.find(I=>I.Settlement.value==="Total Payments Received"),T=Bn.find(I=>I.Settlement==="Provision Deduction")||{JanToFeb:{value:"0"}},e=be.find(I=>I.Settlement==="OC - SIOC Incentive"),d=be.find(I=>I.Settlement==="CoOp Refund (Incl.Accruals,Promotions,PP,StraightPays,etc)"),l=be.find(I=>I.Settlement==="Return Refund"),h=be.find(I=>I.Settlement==="Provision Reversal"),j=y?parseFloat(y.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,R=s?parseFloat(s.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,k=i?parseFloat(i.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,m=o?parseFloat(o.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,E=T?parseFloat(T.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,B=h?parseFloat(h.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,q=l?parseFloat(l.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,ne=d?parseFloat(d.JanToFeb.value.replace(/[^\d.-]/g,"")):0,oe=e?parseFloat(e.JanToFeb.value.replace(/[^0-9.-]+/g,"")):0,_=j-R-k-E+B+q+ne+oe,pe=_/m*100;console.log("Gross Profit:",j),console.log("SG&A:",R),console.log("Total Deduction:",k),console.log("Total Payments Received:",m),console.log("Provisional Deduction:",E),console.log("Provisional Reversal:",B),console.log("Return Refund:",q),console.log("CoOp Refund:",ne),console.log("OC:",oe),console.log("EBITDA:",_),console.log("EBITDA %:",pe),mr(pe);const me=Un.map(I=>I.Settlement.value==="EBITDA%"?{...I,JanToFeb:{...I.JanToFeb,value:`${pe.toFixed(2)}%`}}:I.Settlement.value==="EBITDA"?{...I,JanToFeb:{...I.JanToFeb,value:`$${_.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}}:I);vr(me)};return n.jsx($r,{children:n.jsxs(jr,{children:[n.jsx(Se,{children:n.jsxs(he,{style:{backgroundColor:a.palette.primary.light},children:[n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:"Categories"}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.currentYear}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.year1}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.year2})]})}),n.jsx(Oe,{children:ve.map((t,y)=>n.jsxs(xe,{index:y,theme:a,children:[n.jsx($,{children:n.jsxs(J,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(g,{variant:"body2",style:{color:t.Settlement.color,fontWeight:"500",fontSize:"15px"},children:t.Settlement.value}),t.Settlement.value2&&n.jsx(Fe,{title:"Selling, General and Administrative Expenses",children:n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})})]})}),n.jsx($,{children:t.Settlement.value==="SG&A %"&&Vn?n.jsx(Zt,{value:Xt,onChange:Nn,variant:"outlined",size:"small",autoFocus:!0,fullWidth:!0}):t.Settlement.value==="Gross Margin %"&&Wn?n.jsx(Zt,{value:Qt,onChange:Gn,variant:"outlined",size:"small",autoFocus:!0,fullWidth:!0}):n.jsx(g,{variant:"body2",onClick:()=>{t.Settlement.value==="SG&A %"?Ir(t.JanToFeb.value):t.Settlement.value==="Gross Margin %"&&Or(t.JanToFeb.value)},style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width,padding:t.JanToFeb.padding,cursor:"pointer"},children:t.Settlement.value==="SG&A %"&&t.JanToFeb.value===ue?Xt:t.Settlement.value==="Gross Margin %"&&t.JanToFeb.value===ge?Qt:t.JanToFeb.value})}),n.jsx($,{children:n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,backgroundColor:t.TwentyTwo.backgroundColor,borderRadius:t.TwentyTwo.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"14px",width:t.TwentyTwo.width,padding:t.TwentyTwo.padding},children:t.TwentyTwo.value})}),n.jsx($,{children:n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"14px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value})})]},t.id))}),n.jsxs(qn,{open:Vn,onClose:Ln,children:[n.jsx(Qn,{children:"Edit SG&A % Value"}),n.jsx(_n,{children:n.jsx(Zt,{value:Xt,onChange:Nn,variant:"outlined",size:"small",autoFocus:!0,fullWidth:!0})}),n.jsxs(Zn,{children:[n.jsx(Kt,{onClick:Ln,color:"primary",children:"Cancel"}),n.jsx(Kt,{onClick:Sr,color:"primary",children:"Save"})]})]}),n.jsxs(qn,{open:Wn,onClose:Hn,children:[n.jsx(Qn,{children:"Edit Gross Margin % Value"}),n.jsx(_n,{children:n.jsx(Zt,{value:Qt,onChange:Gn,variant:"outlined",size:"small",autoFocus:!0,fullWidth:!0})}),n.jsxs(Zn,{children:[n.jsx(Kt,{onClick:Hn,color:"primary",children:"Cancel"}),n.jsx(Kt,{onClick:Fr,color:"primary",children:"Save"})]})]}),n.jsx(Se,{children:n.jsxs(he,{style:{backgroundColor:a.palette.primary.light},children:[n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:"Deductions"}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.currentYear}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.year1}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.year2})]})}),n.jsx(Oe,{children:zn.map((t,y)=>n.jsxs(xe,{index:y,theme:a,children:[n.jsx($,{children:n.jsx(g,{variant:"body2",style:{fontWeight:"500",fontSize:"15px"},children:t.Settlement})}),n.jsx($,{children:t.Settlement==="Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width,padding:t.JanToFeb.padding},children:t.JanToFeb.value}),t.JanToFeb.value2&&n.jsx(Fe,{title:"% of Total Payement Received",children:n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width,padding:t.JanToFeb.padding},children:t.JanToFeb.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.success.extraDark,fontWeight:"500",fontSize:"15px"},children:t.JanToFeb.value2})]})}),n.jsx($,{children:t.Settlement==="Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,backgroundColor:t.TwentyTwo.backgroundColor,borderRadius:t.TwentyTwo.borderRadius,textAlign:t.TwentyTwo.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyTwo.width,padding:t.TwentyTwo.padding},children:t.TwentyTwo.value}),t.TwentyTwo.value2&&n.jsx(Fe,{title:"% of Total Payement Received",children:n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,backgroundColor:t.TwentyTwo.backgroundColor,borderRadius:t.TwentyTwo.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyTwo.width,padding:t.TwentyTwo.padding},children:t.TwentyTwo.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.success.extraDark,fontWeight:"500",fontSize:"15px"},children:t.TwentyTwo.value2})]})}),n.jsx($,{children:t.Settlement==="Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value}),t.TwentyOne.value2&&n.jsx(Fe,{title:"% of Total Payement Received",children:n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.success.extraDark,fontWeight:"500",fontSize:"15px"},children:t.TwentyOne.value2})]})})]},t.id))}),n.jsx(Se,{children:n.jsxs(he,{style:{backgroundColor:a.palette.primary.light},children:[n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:"EBITDA ( $ / % )"}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.currentYear}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.year1}),n.jsx(P,{style:{color:"white",fontSize:"15px",fontWeight:"600"},children:M.year2})]})}),n.jsx(Oe,{children:Un.map((t,y)=>n.jsxs(xe,{index:y,theme:a,children:[t.Settlement.value==="EBITDA%"?n.jsx($,{children:n.jsxs(J,{direction:"row",spacing:1,alignItems:"center",children:[n.jsx(g,{variant:"body2",style:{color:t.Settlement.color,fontWeight:"500",fontSize:"15px"},children:t.Settlement.value}),t.Settlement.value2&&n.jsx(Fe,{title:"% of Earning Before Interest, Taxes, Depreciation, and Amortization",children:n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})})]})}):n.jsx($,{children:n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.Settlement.color,fontWeight:"500",fontSize:"15px"},children:t.Settlement.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.success.extraDark,fontWeight:"500",fontSize:"15px"},children:t.Settlement.value2})]})}),n.jsx($,{children:n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,fontWeight:"500",fontSize:"15px"},children:t.JanToFeb.value})}),n.jsx($,{children:n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,fontWeight:"500",fontSize:"14px"},children:t.TwentyTwo.value})}),n.jsx($,{children:n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,fontWeight:"500",fontSize:"14px"},children:t.TwentyOne.value})})]},t.id))}),n.jsx(Se,{children:n.jsxs(he,{style:{backgroundColor:"#e1e1e1"},children:[n.jsx(P,{}),n.jsx(P,{}),n.jsx(P,{}),n.jsx(P,{})]})}),n.jsx(Oe,{children:Bn.map((t,y)=>n.jsxs(xe,{index:y,theme:a,children:[n.jsx($,{children:n.jsx(g,{variant:"body2",style:{fontWeight:"500",fontSize:"15px",color:a.palette.primary.main},children:t.Settlement})}),n.jsx($,{children:t.Settlement!=="Provision Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width},children:t.JanToFeb.value}),t.JanToFeb.value2&&n.jsx("div",{style:{backgroundColor:a.palette.primary.main,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width},children:t.JanToFeb.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontWeight:"500",fontSize:"15px"},children:t.JanToFeb.value2})]})}),n.jsx($,{children:t.Settlement!=="Provision Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width},children:t.JanToFeb.value}),t.JanToFeb.value2&&n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,backgroundColor:t.TwentyTwo.backgroundColor,borderRadius:t.TwentyTwo.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyTwo.width,padding:t.TwentyTwo.padding},children:t.TwentyTwo.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontWeight:"500",fontSize:"15px"},children:t.TwentyTwo.value2})]})}),n.jsx($,{children:t.Settlement!=="Provision Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value}),t.TwentyOne.value2&&n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontWeight:"500",fontSize:"15px"},children:t.TwentyOne.value2})]})})]},t.id))}),n.jsx(Se,{children:n.jsxs(he,{style:{backgroundColor:"#e1e1e1"},children:[n.jsx(P,{children:n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontSize:"15px",fontWeight:"500"},children:"Refunds & Reversals"})}),n.jsx(P,{}),n.jsx(P,{}),n.jsx(P,{})]})}),n.jsx(Oe,{children:be.map((t,y)=>n.jsxs(xe,{index:y,theme:a,children:[n.jsx($,{children:n.jsx(g,{variant:"body2",style:{fontWeight:"500",fontSize:"15px"},children:t.Settlement})}),n.jsx($,{children:t.Settlement==="Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width,padding:t.JanToFeb.padding},children:t.JanToFeb.value}),t.JanToFeb.value2&&n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.JanToFeb.color,backgroundColor:t.JanToFeb.backgroundColor,borderRadius:t.JanToFeb.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.JanToFeb.width},children:t.JanToFeb.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontWeight:"500",fontSize:"15px"},children:t.JanToFeb.value2})]})}),n.jsx($,{children:t.Settlement==="Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,backgroundColor:t.TwentyTwo.backgroundColor,borderRadius:t.TwentyTwo.borderRadius,textAlign:t.TwentyTwo.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyTwo.width,padding:t.TwentyTwo.padding},children:t.TwentyTwo.value}),t.JanToFeb.value2&&n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyTwo.color,backgroundColor:t.TwentyTwo.backgroundColor,borderRadius:t.TwentyTwo.borderRadius,textAlign:t.JanToFeb.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyTwo.width,padding:t.TwentyTwo.padding},children:t.TwentyTwo.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontWeight:"500",fontSize:"15px"},children:t.TwentyTwo.value2})]})}),n.jsx($,{children:t.Settlement==="Deduction"?n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value}),t.TwentyOne.value2&&n.jsx("div",{style:{backgroundColor:a.palette.success.extraDark,borderRadius:"50%",padding:"2px",height:"15px",width:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Q,{size:16,strokeWidth:1.5,style:{color:"white"}})})]}):n.jsxs(J,{direction:"row",spacing:4,alignItems:"center",justifyContent:"space-between",children:[n.jsx(g,{variant:"body2",style:{color:t.TwentyOne.color,backgroundColor:t.TwentyOne.backgroundColor,borderRadius:t.TwentyOne.borderRadius,textAlign:t.TwentyOne.textAlign,fontWeight:"500",fontSize:"15px",width:t.TwentyOne.width,padding:t.TwentyOne.padding},children:t.TwentyOne.value}),n.jsx(g,{variant:"body2",style:{color:a.palette.primary.main,fontWeight:"500",fontSize:"15px"},children:t.TwentyOne.value2})]})})]},t.id))})]})})},oo=()=>{const[a,w]=c.useState([]),[M,x]=c.useState({}),[p,u]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const Y=sessionStorage.getItem("selectedVendorId"),W=sessionStorage.getItem("token");if(!Y||!W)throw new Error("Vendor ID or token is missing");const N=[2024,2023,2022],L=N.map(D=>Ce.get("http://35.153.186.247:8082/financialDashboard/getMonthlyPoAcceptedRate",{params:{vendorId:Y,year:D},headers:{Authorization:`Bearer ${W}`}})),H=await Promise.all(L),U=N.map((D,K)=>{const ee=H[K].data.data,X=Array(12).fill(0);return Object.keys(ee).forEach(G=>{const re=parseInt(G)-1;re>=0&&re<12&&(X[re]=parseFloat(ee[G]).toFixed(2))}),{name:`${D}`,data:X}}),ae=U.flatMap(D=>D.data.map(Number)),Z=Math.max(...ae);w(U),x({chart:{type:"area",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:20,offsetY:60}}}],stroke:{show:!0,width:2},dataLabels:{enabled:!1},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tickPlacement:"on"},yaxis:{min:0,max:Math.ceil(Z/10)*10,tickAmount:5,labels:{formatter:function(D){return D.toFixed(2)+"%"}},title:{offsetX:0,offsetY:0,style:{fontSize:"12px",fontWeight:400,color:"#666"}}},grid:{yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},legend:{show:!0,position:"bottom",offsetY:-6,offsetX:-300,horizontalAlign:"center",markers:{width:10,height:10,radius:12},itemMargin:{horizontal:10,vertical:45}},fill:{opacity:.7},colors:["#FF5733","#33FF57","#3357FF"]})}catch(Y){console.error("Error fetching data:",Y)}finally{u(!1)}})()},[]),n.jsx("div",{id:"chart",style:{height:"330px",width:"350px",marginLeft:"-18px"},children:p?n.jsx("p",{children:"Loading..."}):n.jsx(en,{options:M,series:a,type:"area",height:400,width:540})})},ls=()=>{const[a,w]=c.useState(null),[M,x]=c.useState(!1),p=ao();c.useEffect(()=>{const L=()=>{const U=sessionStorage.getItem("selectedVendorId");w(U),x(!0)};L();const H=()=>{L()};return Kn.on("vendorSelected",H),()=>{Kn.off("vendorSelected",H)}},[]),c.useEffect(()=>{M&&x(!1)},[M]);const u=()=>n.jsxs(g,{variant:"subtitle2",sx:{color:p.palette.text.dark},children:[n.jsx(we,{style:{height:"10px",width:"10px",borderRadius:"50px",backgroundColor:"#245aa0",marginRight:"5px",display:"inline-flex"}}),"2024"]}),r=()=>n.jsxs(g,{variant:"subtitle2",sx:{color:p.palette.text.dark},children:[n.jsx(we,{style:{height:"10px",width:"10px",borderRadius:"50px",backgroundColor:"#2edd95",marginRight:"5px",display:"inline-flex"}}),"2023"]}),Y=()=>n.jsxs(g,{variant:"subtitle2",sx:{color:p.palette.text.dark},children:[n.jsx(we,{style:{height:"10px",width:"10px",borderRadius:"50px",backgroundColor:"#ee8129",marginRight:"5px",display:"inline-flex"}}),"2022"]}),W=()=>n.jsxs(g,{variant:"subtitle2",sx:{color:p.palette.text.dark},children:[n.jsx(we,{style:{height:"10px",width:"10px",borderRadius:"50px",backgroundColor:"#245aa0",marginRight:"5px",display:"inline-flex"}}),"2024"]}),N=()=>n.jsxs(g,{variant:"subtitle2",sx:{color:p.palette.text.dark},children:[n.jsx(we,{style:{height:"10px",width:"10px",borderRadius:"50px",backgroundColor:"#ee8129",marginRight:"5px",display:"inline-flex"}}),"2023"]});return n.jsx(xr,{title:"Financial Scorecard",children:n.jsxs(V,{container:!0,spacing:3,children:[n.jsx(V,{item:!0,xs:12,children:n.jsx(Cr,{titles:["P&L Analysis"]})}),n.jsx(V,{item:!0,xs:12,children:n.jsx(Jr,{title:"P&L Analysis"})}),n.jsx(V,{item:!0,xs:12,children:n.jsxs(V,{container:!0,spacing:2,children:[n.jsx(V,{item:!0,xs:12,my:2,children:n.jsx(g,{variant:"h3",children:"Overview"})}),n.jsx(V,{item:!0,sm:6,md:6,children:n.jsxs(Ie,{title:n.jsx(g,{variant:"h6",sx:{color:p.palette.success.main}}),children:[n.jsx(g,{variant:"h4",children:"EBITDA % "}),n.jsxs(J,{direction:"row",spacing:1,marginTop:2,children:[u(),r(),Y()]}),a==="5"?n.jsx(to,{}):a==="4"?n.jsx(to,{}):n.jsx(g,{variant:"body2",children:"No data available for this vendor"})]})}),n.jsx(V,{item:!0,sm:6,md:6,children:n.jsxs(Ie,{title:n.jsx(g,{variant:"h6",sx:{color:p.palette.success.main}}),children:[n.jsx(g,{variant:"h4",children:"EBITDA ($) "}),n.jsxs(J,{direction:"row",spacing:2,marginTop:2,children:[W(),N()]}),a==="5"?n.jsx(eo,{}):a==="4"?n.jsx(eo,{}):n.jsx(g,{variant:"body2",children:"No data available for this vendor"})]})}),n.jsx(V,{item:!0,sm:6,md:6,children:n.jsxs(Ie,{title:n.jsx(g,{variant:"h6",sx:{color:p.palette.success.main}}),children:[n.jsx(g,{variant:"h4",children:"Provision Deduction "}),a==="5"?n.jsx(no,{}):a==="4"?n.jsx(no,{}):n.jsx(g,{variant:"body2",children:"No data available for this vendor"})]})}),n.jsx(V,{item:!0,sm:6,md:6,children:n.jsxs(Ie,{title:n.jsx(g,{variant:"h6",sx:{color:p.palette.success.main}}),children:[n.jsx(g,{variant:"h4",children:"PO Accepted "}),a==="5"?n.jsx(oo,{}):a==="4"?n.jsx(oo,{}):n.jsx(g,{variant:"body2",children:"No data available for this vendor"})]})})]})}),n.jsx(V,{item:!0,xs:12,children:n.jsx(Ie,{children:n.jsxs(V,{container:!0,spacing:2,children:[n.jsx(V,{item:!0,children:n.jsx(g,{variant:"h3",children:"Yearly Comparison"})}),n.jsx(V,{item:!0,xs:12,children:n.jsx(Pr,{},a)})]})})})]})})};export{ls as default};
